import{s as w}from"./index-C1S6C8oy.js";import{I as k,d as $,u as b,r as m,b as x,g as v,o as t,c as a,j as o,t as c,q as g,p as h,n as D,h as _,v as C,e as B,x as S,i as p,F as j,l as N}from"./index-BKHARNaj.js";import{_ as P}from"./MainHeader.vue_vue_type_script_setup_true_lang-BR1i11vc.js";import{s as I}from"./index-IzOwROKR.js";import{s as L}from"./index-D2UfNRXk.js";import"./index-BriybkaL.js";import"./index-DUiGxFAo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-D1-3uCnC.js";const V={getDocs:q};async function q(){return await k.get("v2/docs")}const F=$("docs-store",()=>{const i=b(),s=m([]),r=m(!1);async function l(){try{r.value=!0;const{data:e}=await V.getDocs();s.value=e}catch(e){i.add({severity:"error",summary:e.response.data.error,life:2e3})}finally{r.value=!1}}return{docs:s,isLoading:r,loadDocs:l}}),M={class:"flex gap-2 w-full h-full items-end"},R={class:"flex-grow flex flex-col gap-[2px]"},T={class:"text-overline-small text-neutral500"},z={class:"flex items-center gap-2"},A={key:0,class:"text-purple-500 h-[22px] w-4"},E={class:"text-body-large-semibold"},G={class:"pt-[10px] flex flex-col gap-1"},H={key:0},J={key:1},K={key:2},O=x({__name:"ModuleCard",props:{doc:{}},setup(i){const s=i,r=C(),l=()=>{s.doc.access_status==="available"&&r.push({name:s.doc.student_progress==100?"lesson-revise":"lesson",params:{id:s.doc.lesson_id},query:{route_id:s.doc.route_id}})};return v(()=>{}),(e,d)=>{const n=L,u=I;return t(),a("div",{class:"flex flex-col rounded-lg h-[160px] w-[360px] pt-2 px-3 cursor-pointer bg-neutral50",onClick:l},[o("div",M,[o("div",R,[o("div",T,c(s.doc.route_name),1),o("div",z,[s.doc.access_status==="premium_restriction"?(t(),a("div",A,d[0]||(d[0]=[o("i",{class:"pi pi-crown","aria-hidden":"true"},null,-1)]))):g("",!0),o("div",E,c(s.doc.lesson_name),1)])]),e.doc.source_image_url?(t(),h(n,{key:0,src:s.doc.source_image_url,alt:"Image",class:"w-[120px] h-[120px]"},null,8,["src"])):g("",!0)]),o("div",G,[o("div",{class:D(["action-small-bold","text-warning400"])},[e.doc.student_progress==0?(t(),a("span",H,c(e.$t("start")),1)):e.doc.student_progress==100?(t(),a("span",J,c(e.$t("done")),1)):(t(),a("span",K,c(e.$t("inProgress")),1))]),_(u,{value:e.doc.student_progress,"show-value":!1,class:"w-full rounded-full h-[2px]",dt:{value:{background:"var(--color-warning400)"},background:"var(--color-warning50)"}},null,8,["value"])])])}}}),Q={class:"flex flex-col items-center"},U={class:"w-full flex max-w-[1280px] px-8 py-10 justify-start"},W={class:"text-heading-2-bold text-neutral900"},X={class:"w-full max-w-[1280px] px-8 pb-10"},Y={key:1,class:"flex justify-center"},Z={key:2,class:"flex flex-col gap-8"},ss={class:"flex flex-wrap gap-6 bg-white p-6 rounded-2xl"},ds=x({__name:"DocsPage",setup(i){const s=F(),{docs:r,isLoading:l}=B(s),{loadDocs:e}=s,d=S(()=>{var n;return(n=r.value)==null?void 0:n.filter(u=>u.stage==="published")});return v(()=>e()),(n,u)=>{const y=w;return t(),a("div",Q,[_(p(P)),o("div",U,[o("div",W,c(n.$t("modules")),1)]),o("div",X,[p(l)?(t(),h(y,{key:0,class:"flex justify-center"})):p(r)?(t(),a("div",Z,[o("div",ss,[(t(!0),a(j,null,N(d.value,f=>(t(),a("div",{key:f.lesson_id},[_(O,{doc:f},null,8,["doc"])]))),128))])])):(t(),a("div",Y,"No docs yet"))])])}}});export{ds as default};
