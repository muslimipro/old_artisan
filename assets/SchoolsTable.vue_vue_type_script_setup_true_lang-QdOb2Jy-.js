import{s as x,a as C}from"./index-eMhY5NLX.js";import{a as S,b as T}from"./index-XWd1g6Xq.js";import{s as V}from"./index-CKslPvHa.js";import{b as N,a as F,r as m,o as r,p as I,D as t,j as _,c as n,t as o,q as $,W as b,h as s,k as c,i as f,aH as B,w as D}from"./index-AClBedbW.js";const M={class:"flex items-center"},z={class:"flex-grow flex gap-2 items-center"},E={key:0,class:"text-2xl"},P={key:0},A={key:1},O={key:2},U={class:"w-44"},j={key:0,class:"w-40"},q={key:1,class:"w-40"},H={key:0,class:"w-40"},K={key:1,class:"w-40"},X=N({__name:"SchoolsTable",props:{schools:{},loading:{type:Boolean}},setup(L){const{locale:u}=F(),p=m(),d=m();(()=>{d.value={global:{value:null,matchMode:B.CONTAINS}}})();const h=()=>{p.value.exportCSV()};return(i,a)=>{const y=D,v=S,g=V,k=T,l=x,w=C;return r(),I(w,{ref_key:"dt",ref:p,filters:d.value,"onUpdate:filters":a[1]||(a[1]=e=>d.value=e),value:i.schools,dataKey:"id",loading:i.loading,scrollable:"",globalFilterFields:["id","title_en","country","address","manager_email"],paginator:"",rows:10,rowsPerPageOptions:[5,10,25],class:"rounded-md overflow-hidden w-full"},{header:t(()=>[_("div",M,[_("div",z,[i.schools?(r(),n("div",E,"Schools - "+o(i.schools.length),1)):$("",!0)]),b(i.$slots,"header-extra"),s(y,{label:"Export",icon:"pi pi-upload",severity:"info",variant:"outlined",class:"mr-2",onClick:h}),s(k,null,{default:t(()=>[s(v,null,{default:t(()=>a[2]||(a[2]=[_("i",{class:"pi pi-search"},null,-1)])),_:1}),s(g,{modelValue:d.value.global.value,"onUpdate:modelValue":a[0]||(a[0]=e=>d.value.global.value=e),placeholder:"Search"},null,8,["modelValue"])]),_:1})])]),empty:t(()=>a[3]||(a[3]=[c(" No schools found. ")])),loading:t(()=>a[4]||(a[4]=[c(" Loading schools data. Please wait. ")])),default:t(()=>[s(l,{field:"id",header:"ID",sortable:""}),s(l,{field:"title_en",header:"Name",sortable:""},{body:t(({data:e})=>[f(u)==="en"?(r(),n("span",P,o(e.title_en),1)):f(u)==="kk"?(r(),n("span",A,o(e.title_kz),1)):(r(),n("span",O,o(e.title_ru),1))]),_:1}),s(l,{field:"country",header:"Country",sortable:""}),s(l,{field:"address",header:"Address",sortable:""}),s(l,{field:"manager_email",header:"Manager Email",sortable:""}),s(l,{field:"num_current_classes",header:"Classes",sortable:""},{body:t(({data:e})=>[c(o(e.num_current_classes)+" / "+o(e.num_max_classes),1)]),_:1}),s(l,{field:"num_current_teachers",header:"Teachers",sortable:""},{body:t(({data:e})=>[c(o(e.num_current_teachers)+" / "+o(e.num_max_teachers),1)]),_:1}),s(l,{field:"num_current_students",header:"Students",sortable:""},{body:t(({data:e})=>[c(o(e.num_current_students)+" / "+o(e.num_max_students),1)]),_:1}),s(l,{field:"created_time",header:"Created time",sortable:""},{body:t(({data:e})=>[_("div",U,o(e.created_time.split("T")[0]+" "+e.created_time.split(".")[0].split("T")[1]),1)]),_:1}),s(l,{field:"subscription_start",header:"Subscription start",sortable:""},{body:t(({data:e})=>[e.subscription_start?(r(),n("div",j,o(e.subscription_start.split("T")[0]),1)):(r(),n("div",q,"-"))]),_:1}),s(l,{field:"subscription_end",header:"Subscription end",sortable:""},{body:t(({data:e})=>[e.subscription_end?(r(),n("div",H,o(e.subscription_end.split("T")[0]),1)):(r(),n("div",K,"-"))]),_:1}),s(l,{frozen:!0,alignFrozen:"right",exportable:!1},{body:t(({data:e})=>[b(i.$slots,"actions",{row:e})]),_:3})]),_:3},8,["filters","value","loading"])}}});export{X as _};
