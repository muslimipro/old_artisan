import{s as Ve,a as Ne}from"./index-DRqyXj8k.js";import{d as Pe,r as x,b as J,o,c as r,i as e,j as s,t as l,H as m,x as de,F as z,k as j,q as A,l as Z,p as L,D as k,n as Y,h as y,w as qe,u as Be,a1 as Ae,e as ve,g as je,E as fe,I as Le,C as ze}from"./index-CUMgwZ8h.js";import{_ as Oe}from"./MainHeader.vue_vue_type_script_setup_true_lang-D3-2Puna.js";import{_ as Ge}from"./PibodyViewer.vue_vue_type_script_setup_true_lang-9LthuaRy.js";import{l as We,O as R,a as Ee,I,f as He,u as Je,b as Ie,d as xe,g as ye,h as Ke,i as Qe,e as pe,j as Xe,k as Ye,m as N,n as Ze,o as et,p as ge,R as le,r as be}from"./CodeEditorView.vue_vue_type_script_setup_true_lang-BrbtNDJ8.js";import{o as E,v as he,b as H,M as re,m as ke,P as ie,p as we,c as oe,i as M,a as tt,u as st}from"./store-BsvAW0Zy.js";import{s as ue}from"./index-DcKJxar-.js";import{s as at}from"./index-DQ9pc8aT.js";import{s as lt}from"./index-D4XmXI_7.js";import{s as ot}from"./index-7GTiaX02.js";import{U as _e}from"./unitApi-CCLqwxSm.js";import{m as nt}from"./mapUnitFromDto-DVWJHO4f.js";import{C as ne}from"./cloudStorageApi-h4evh9La.js";import{u as rt}from"./index-GAzaOaxE.js";import"./index-BSQjJQL2.js";import"./index-DrLigJwL.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D3x-bdAs.js";import"./logo-D1-3uCnC.js";import"./SimulationView-3q9UgIfe.js";import"./index-BnfREOKG.js";import"./index-BwijO-Y4.js";import"./index-pZk1up6r.js";import"./index-BWECRafZ.js";import"./index-Bbidupvf.js";import"./index-zdxhl0KV.js";import"./index-XxTxmw7j.js";import"./index-Cok4vEZI.js";const it=Pe("useMPDeviceStore",()=>{const t=x(localStorage.getItem("fileContent")||""),a=x(""),c=x(""),w=x(!1),d=x([]);async function p(v,g){d.value=[v],c.value=v,t.value=g}async function _(v){d.value=[v],c.value=v,t.value=await We(v)}function P(v){t.value=v}return{isProject:w,activeFiles:d,fileContent:t,fileName:a,filePath:c,openFile:p,loadFile:_,setCode:P}}),ct={key:0,class:"text-nowrap"},dt={key:0,class:"text-white"},ut={key:1,class:"text-white"},mt={key:2,class:"text-white"},vt={key:3,class:"text-white"},ft={key:4,class:"text-white"},xt={key:5,class:"text-black w-full"},yt={class:"text-center font-mono px-1 text-white bg-black"},pt={key:6,class:"text-black w-full"},gt={class:"text-center font-mono px-1 text-white bg-black"},bt={key:7,class:"text-black w-full p-3"},ht={key:8,class:"text-white w-full"},kt={key:9,class:"text-white w-full"},wt={key:10,class:"text-white w-full"},_t={key:11,class:"text-white w-full"},$t={key:12,class:"text-black w-full"},Ct={class:"text-center font-mono px-1 text-white bg-black"},Pt={key:13,class:"text-white"},qt={key:14,class:"text-black w-full"},It={class:"text-center font-mono px-1 text-white bg-black"},Tt={key:15,class:"text-black w-full"},St={class:"text-center font-mono px-1 text-white bg-black"},Ft={key:16,class:"text-black w-full"},Mt={class:"text-center font-mono px-1 text-white bg-black"},Ut={key:17,class:"text-black w-full"},Rt={class:"text-center font-mono px-1 text-white bg-black"},Dt={key:18,class:"text-black w-full"},Vt={key:1,class:"text-center p-3"},ce=J({__name:"FeedbackNode",props:{message:{type:Object,required:!0}},setup(t){return(a,c)=>t.message?(o(),r("div",ct,[t.message.command===e(R).PinSetValue?(o(),r("div",dt,[s("div",{style:m({background:e(E)}),class:"text-center font-mono px-1"},"Pin "+l(t.message.request.pin)+" set value",5),s("div",{style:m(e(H)(t.message.request.value)),class:"text-center font-mono px-1"}," Value "+l(e(he)(t.message.request.value)),5)])):t.message.command===e(R).PinSetMode?(o(),r("div",ut,[s("div",{style:m({background:e(E)}),class:"text-center font-mono px-1"},"Pin "+l(t.message.request.pin)+" set mode",5),s("div",{style:m({background:e(ke)[t.message.request.mode]}),class:"text-center font-mono px-1"}," Mode "+l(e(re)[t.message.request.mode]),5)])):t.message.command===e(R).PinSetPull?(o(),r("div",mt,[s("div",{style:m({background:e(E)}),class:"text-center font-mono px-1"},"Pin "+l(t.message.request.pin)+" set pull",5),s("div",{style:m({background:e(we)[t.message.request.pull]}),class:"text-center font-mono px-1"}," Pull "+l(e(ie)[t.message.request.pull]),5)])):t.message.command===e(R).PwmDutyU16?(o(),r("div",vt,[s("div",{style:m({background:e(E)}),class:"text-center font-mono px-1"},"PWM "+l(t.message.request.pin)+" set duty",5),s("div",{style:m(e(H)(t.message.request.duty_u16/e(oe))),class:"text-center font-mono px-1"}," u16 "+l(t.message.request.duty_u16),5)])):t.message.command===e(R).PwmFreq?(o(),r("div",ft,[s("div",{style:m({background:e(E)}),class:"text-center font-mono px-1"},"PWM "+l(t.message.request.pin)+" set freq",5),s("div",{style:m(e(H)(t.message.request.freq/e(oe))),class:"text-center font-mono px-1"}," Freq "+l(t.message.request.freq),5)])):t.message.command===e(R).Output?(o(),r("div",xt,[c[0]||(c[0]=s("div",{class:"text-center px-1"},"Print",-1)),s("div",yt,l(t.message.request.output),1)])):t.message.command===e(R).Sleep?(o(),r("div",pt,[c[1]||(c[1]=s("div",{class:"text-center px-1"},"Sleep",-1)),s("div",gt,l(t.message.request.time_ms)+" ms",1)])):t.message.command===e(Ee).Timeout?(o(),r("div",bt," Timeout ")):t.message.command===e(I).PinGetValue?(o(),r("div",ht,[s("div",{style:m({background:e(M)}),class:"text-center font-mono px-1"},"Pin "+l(t.message.request.pin)+" get value",5),s("div",{style:m(e(H)(t.message.result)),class:"text-center font-mono px-1"}," Value "+l(e(he)(t.message.result)),5)])):t.message.command===e(I).PinGetMode?(o(),r("div",kt,[s("div",{style:m({background:e(M)}),class:"text-center font-mono px-1"},"Pin "+l(t.message.request.pin)+" get mode",5),s("div",{style:m({background:e(ke)[t.message.result]}),class:"text-center font-mono px-1"}," Mode "+l(e(re)[t.message.result]),5)])):t.message.command===e(I).PinGetPull?(o(),r("div",wt,[s("div",{style:m({background:e(M)}),class:"text-center font-mono px-1"},"Pin "+l(t.message.request.pin)+" get pull",5),s("div",{style:m({background:e(we)[t.message.result]}),class:"text-center font-mono px-1"}," Pull "+l(e(ie)[t.message.result]),5)])):t.message.command===e(I).AdcReadU16?(o(),r("div",_t,[s("div",{style:m({background:e(M)}),class:"text-center font-mono px-1"},"ADC "+l(t.message.request.pin)+" read",5),s("div",{style:m(e(H)(t.message.result/e(oe))),class:"text-center font-mono px-1"}," u16 "+l(t.message.result),5)])):t.message.command===e(I).Input?(o(),r("div",$t,[c[2]||(c[2]=s("div",{class:"text-center px-1"},"Input",-1)),s("div",Ct,l(t.message.result),1)])):t.message.command===e(R).NeoPixelWrite?(o(),r("div",Pt,[s("div",{style:m({background:e(E)}),class:"text-center font-mono px-1"},"Pin "+l(t.message.request.pin)+" write pixels",5),s("div",{style:m(e(H)(0)),class:"text-center font-mono px-1"}," pixels("+l(t.message.request.pixels.length)+") ",5)])):t.message.command===e(R).DisplayText?(o(),r("div",qt,[c[3]||(c[3]=s("div",{class:"text-center px-1"},"Display print",-1)),s("div",It,l(t.message.request.text),1)])):t.message.command===e(I).I2CScan?(o(),r("div",Tt,[c[4]||(c[4]=s("div",{class:"text-center px-1"},"I2CScan",-1)),s("div",St," SDA: "+l(t.message.request),1)])):t.message.command===e(I).I2CReadFromMem?(o(),r("div",Ft,[c[5]||(c[5]=s("div",{class:"text-center px-1"},"I2CReadFromMem",-1)),s("div",Mt," nBytes: "+l(t.message.request.nbytes),1)])):t.message.command===e(R).I2CWriteToMem?(o(),r("div",Ut,[c[6]||(c[6]=s("div",{class:"text-center px-1"},"I2CWriteToMem",-1)),s("div",Rt," Buf: "+l(t.message.request.buf),1)])):(o(),r("div",Dt," Todo: "+l(t.message.command),1))])):(o(),r("div",Vt," Nothing "))}}),Nt={class:"flex-col overflow-auto"},Bt={class:"flex"},At={key:0,class:"flex text-white border-2 border-blue-500"},jt={class:"text-black text-nowrap"},Lt={key:1,class:"flex text-white border-2 border-blue-500"},zt={class:"text-black text-nowrap"},Ot={key:2,class:"flex text-white border-2 border-blue-500"},Gt={class:"text-black text-nowrap"},Wt={key:3,class:"flex text-white border-2 border-blue-500"},Et={class:"text-black text-nowrap"},Ht={key:4,class:"flex text-white border-2 border-blue-500"},Jt={class:"text-black text-nowrap"},Kt={key:5,class:"flex text-white border-2 border-blue-500"},Qt={class:"text-black text-nowrap"},Xt={key:6,class:"flex text-white border-2 border-blue-500"},Yt={class:"text-black text-nowrap"},Zt={key:7,class:"flex text-black border-2 border-blue-500"},Te=J({__name:"Inputs",props:{inputs:{}},setup(t){const a=de(()=>{const c=[];for(const[w,d]of t.inputs){const p=He(w);c.push({...p,result:d})}return c});return(c,w)=>(o(),r(z,null,[a.value.length===0?(o(),r(z,{key:0},[j("Nothing")],64)):A("",!0),s("div",Nt,[(o(!0),r(z,null,Z(a.value,d=>(o(),r("div",Bt,[d.command===e(I).PinGetValue?(o(),r("div",At,[s("div",{style:m({background:e(M)}),class:"text-center text-nowrap font-mono px-1"},"Pin "+l(d.request.pin)+" get values:",5),s("div",jt,l(d.result),1)])):d.command===e(I).PinGetMode?(o(),r("div",Lt,[s("div",{style:m({background:e(M)}),class:"text-center text-nowrap font-mono px-1"},"Pin "+l(d.request.pin)+" get values:",5),s("div",zt,l(d.result.map(p=>e(re)[p])),1)])):d.command===e(I).PinGetPull?(o(),r("div",Ot,[s("div",{style:m({background:e(M)}),class:"text-center text-nowrap font-mono px-1"},"Pin "+l(d.request.pin)+" get values:",5),s("div",Gt,l(d.result.map(p=>e(ie)[p])),1)])):d.command===e(I).AdcReadU16?(o(),r("div",Wt,[s("div",{style:m({background:e(M)}),class:"text-center text-nowrap font-mono px-1"},"ADC "+l(d.request.pin)+" read u16:",5),s("div",Et,l(d.result),1)])):d.command===e(I).Input?(o(),r("div",Ht,[s("div",{style:m({background:e(M)}),class:"text-center text-nowrap font-mono px-1"},"Console input:",4),s("div",Jt,l(d.result),1)])):d.command===e(I).I2CScan?(o(),r("div",Kt,[s("div",{style:m({background:e(M)}),class:"text-center text-nowrap font-mono px-1"},"I2CScan:",4),s("div",Qt,l(d.result),1)])):d.command===e(I).I2CReadFromMem?(o(),r("div",Xt,[s("div",{style:m({background:e(M)}),class:"text-center text-nowrap font-mono px-1"},"I2CReadFromMem:",4),s("div",Yt,l(d.result),1)])):(o(),r("div",Zt,"TODO: "+l(d),1))]))),256))])],64))}}),es={class:"flex items-center gap-2"},ts={class:"font-bold"},ss={class:"flex"},as=["onClick"],ls={class:"text-center"},os={key:0,class:"text-center"},ns={key:0,class:"flex items-center justify-center h-20"},rs=J({__name:"FeedbackTimeline",props:{id:{},result:{}},setup(t){const a=t,{selectNode:c,selectedIndex:w,firstError:d}=Je(a.id,a.result),p=de(()=>Ie(a.result.replayed)),_=x(null),P=x([]);return(v,g)=>{const T=qe,S=ue;return o(),L(S,null,{header:k(()=>[s("div",es,[s("div",ts,l(v.$t("result")),1),a.result.success===!1?(o(),L(T,{key:0,severity:"danger",onClick:g[0]||(g[0]=$=>e(d)(P.value))},{default:k(()=>[j(l(v.$t("first error")),1)]),_:1})):A("",!0)])]),default:k(()=>[s("div",{ref_key:"scrollContainer",ref:_,class:"flex overflow-auto mb-2"},[(o(!0),r(z,null,Z(a.result.feedback,($,D)=>{var f,B;return o(),r("div",ss,[s("button",{class:Y(["flex",e(w)===D?"border border-blue-500":""]),onClick:O=>e(c)(D),ref_for:!0,ref:O=>P.value[D]=O},[s("div",ls,[j(l($.correct?v.$t("correct"):v.$t("incorrect"))+" ",1),y(ce,{message:(f=$.replayed)==null?void 0:f.content,class:Y(["border-4 rounded-md",$.correct?"border-green-500":"border-red-500"])},null,8,["message","class"])]),$.correct?A("",!0):(o(),r("div",os,[g[1]||(g[1]=j(l("Expected")+" ")),y(ce,{message:(B=$.expected)==null?void 0:B.content,class:Y(["border-4 rounded-md",$.correct?"border-red-500":"border-green-500"])},null,8,["message","class"])]))],10,as),D+1<a.result.feedback.length?(o(),r("div",ns,"→")):A("",!0)])}),256))],512),g[2]||(g[2]=j(" Input used: ")),y(Te,{inputs:p.value},null,8,["inputs"])]),_:1})}}}),is={class:"flex overflow-auto mb-2"},cs={class:"text-center"},ds={key:0,class:"flex items-center justify-center h-12"},$e=J({__name:"TestDataTimeline",props:{data:{}},setup(t){const a=de(()=>Ie(t.data));return(c,w)=>{const d=ue;return o(),L(d,{header:"Expected"},{default:k(()=>[s("div",is,[(o(!0),r(z,null,Z(c.data,(p,_)=>(o(),r("div",{class:"flex",key:_},[s("div",cs,[y(e(ce),{message:p.content,class:"border-4 border-blue-500"},null,8,["message"])]),_+1<c.data.length?(o(),r("div",ds,"→")):A("",!0)]))),128))]),w[0]||(w[0]=j(" Inputs: ")),y(e(Te),{inputs:a.value},null,8,["inputs"])]),_:1})}}}),us=Pe("tester-store",()=>{const t=Be(),a=x(null),c=x(!1),w=x(!1),d=x(!1),p=x(!1),_=x(!1),P=x(0),v=x(0),g=x(null),T=x(""),S=x([]),$=x(),D=x(),f=x();async function B(n,i,q){try{c.value=!0;const{data:u}=await _e.getUnitByIdandLessonId(n,i);a.value=nt(u)}catch(u){t.add({severity:"error",summary:u.response.data.error,life:2e3})}finally{c.value=!1}try{if(a.value==null)return;if(P.value=i,v.value=n,a.value.unitType=="checklist"){if(q==null)return;g.value=q;const u=a.value.data;if(f.value=u.checks.find(F=>F.id===g.value),f.value==null)return;T.value=f.value.solution,S.value=await xe(f.value.tests),$.value=f.value.includedCommandsForTests??[...ye],_.value=!0,p.value=!0;return}a.value.content&&(T.value=a.value.content.answer),a.value.data.tests&&(S.value=await xe(a.value.data.tests)),a.value.data.neededModules&&(D.value=a.value.data.neededModules),$.value=a.value.data.includedCommandsForTests??[...ye],p.value=!0}catch(u){t.add({severity:"error",summary:u,life:2e3})}finally{c.value=!1}}async function O(n){if(!(v.value==null||P.value==null))try{w.value=!0,await _e.updateUnitByIdandLessonId(v.value,P.value,n)}catch(i){t.add({severity:"error",summary:i.response.data.error,life:2e3})}finally{w.value=!1}}async function U(){if(a.value!=null){d.value=!0;try{_.value?f.value&&(f.value.solution=T.value,f.value.includedCommandsForTests=$.value):(a.value.content.answer=T.value,a.value.data.includedCommandsForTests=$.value),await O({content:a.value.content,data:a.value.data})}catch(n){let i="";n instanceof Error?i=n.message:i=String(n),t.add({severity:"error",summary:"Failed to save",detail:i,life:3e3})}finally{d.value=!1}}}async function G(n){const i=JSON.stringify(n),q=new Blob([i],{type:"application/json"}),u=new FormData;u.append("file",q,"default.test.json");const{data:F}=await ne.uploadFile(u,"tests");return F.source_url}async function ee(n){if(a.value!=null)try{const i=await G(n);if(i==""){t.add({severity:"error",summary:"not saved",life:2e3});return}if(_.value){if(!f.value)return;f.value.tests?f.value.tests.push({name:"",url:i}):(f.value.tests=[],f.value.tests.push({name:"",url:i}))}else a.value.data.tests?a.value.data.tests.push({name:"",url:i}):(a.value.data.tests=[],a.value.data.tests.push({name:"",url:i}));S.value.push({data:n,test:{name:"",url:i}})}catch(i){t.add({severity:"error",summary:i.response.data.error,life:2e3})}}async function W(n){var i,q,u;if(a.value!=null)try{const F=S.value[n].test.url;if(await ne.deleteFile(F),_.value){const se=a.value.data;f.value=se.checks.find(ae=>ae.id===g.value),f.value&&((i=f.value.tests)==null||i.splice(n,1))}else(u=(q=a.value)==null?void 0:q.data.tests)==null||u.splice(n,1);S.value.splice(n,1)}catch(F){t.add({severity:"error",summary:F.response.data.error,life:2e3})}}async function te(n,i){if(!a.value)return;let q;const u=await G(i);if(u==""){t.add({severity:"error",summary:"not saved",life:2e3});return}if(_.value){if(!f.value||!f.value.tests)return;q=f.value.tests[n].url,f.value.tests[n].url=u}else{if(!a.value.data.tests)return;q=a.value.data.tests[n].url,a.value.data.tests[n].url=u}S.value[n].test.url=u,S.value[n].data=i;try{await ne.deleteFile(q)}catch(F){t.add({severity:"error",summary:F.response.data.error,life:2e3})}}return{selectedUnit:a,isUnitLoading:c,isInited:p,code:T,testsData:S,includedCommandsForTests:$,neededModules:D,loadUnitData:B,saveUnit:U,createTest:ee,deleteTest:W,updateTest:te}}),ms={class:"h-full flex flex-col"},vs={class:"p-4"},fs={class:"flex w-full gap-1"},xs={class:"material-icons"},ys={class:"material-icons"},ps={class:"material-icons"},gs={class:"material-icons"},bs={class:"material-icons"},hs={class:"flex flex-col gap-2 m-2 h-full overflow-auto"},ks={class:"flex gap-2 w-full"},ws=["for"],_s={class:"material-icons"},$s={class:"material-icons"},Cs=J({__name:"TesterControls",props:{id:{},lesson_id:{},unit_id:{},check_id:{}},setup(t){const a=t,c=Ae(),w=us(),{selectedUnit:d,isInited:p,code:_,neededModules:P,testsData:v,includedCommandsForTests:g}=ve(w),{saveUnit:T,loadUnitData:S,createTest:$,deleteTest:D,updateTest:f}=w;je(async()=>{try{if(await S(a.unit_id,a.lesson_id,a.check_id),!p)return;if(U.value=_.value,W.setCode(U.value),P.value)for(const b of P.value)b.module&&b.slot&&G.newModuleToSlot(b.module,b.slot)}catch(b){console.log(b)}});const B=rt(async()=>{await T()},1e3,{maxWait:5e3});function O(b){c.require({message:"Are you sure you want to Delete?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Delete",severity:"danger"},accept:async()=>{await D(b),await T()}})}const{fileContent:U}=ve(it()),G=tt(a.id),ee=Ke(a.id),W=st(a.id),te=Qe(a.id);pe.registerSimulation(a.id,{terminal:ee,display:te,pibody:G});const n=pe.getSharedEmulator(),{isLoading:i,isRunning:q}=n;G.addNeededModules([]);const u=x(ge),F=x(ge);fe(W.code,async b=>{typeof b=="string"&&b!==U.value&&(U.value=b,p.value&&(_.value=b,B()))});function se(){n.recorder.start();const b=typeof W.code.value=="string"?W.code.value:"";n.run(b);const h=fe(n.recorder.state,()=>{(n.replayer.state.value==le.Finish||n.replayer.state.value==le.Timeout)&&(n.recorder.stop(),u.value=n.recorder.getRecords()),h.stop()})}function ae(){n.replayer.state.value==le.Continue?(n.recorder.stop(),n.replayer.stop(),F.value=n.recorder.getRecords()):(n.recorder.stop(),u.value=n.recorder.getRecords()),n.stop()}async function Se(){await $(u.value),await T(),u.value=[]}const Fe=async()=>{N.value=!0;for(const[b,h]of v.value.entries()){const K=await be(n,U.value,h.data,g.value);await n.stopPromise(),await f(b,K)}await T(),N.value=!1},Me=async(b,h)=>{N.value=!0;const K=await be(n,U.value,b.data,g.value);await n.stopPromise(),await f(h,K),await T(),N.value=!1};return(b,h)=>{const K=ot,V=qe,Ue=lt,Re=at,De=ue;return o(),r("div",ms,[s("div",vs,[h[4]||(h[4]=j(" Include Commands: ")),e(p)?(o(),L(K,{key:0,onChange:e(B),modelValue:e(g),"onUpdate:modelValue":h[0]||(h[0]=C=>Le(g)?g.value=C:null),options:Xe,filter:"",placeholder:"Select commands",class:"w-full md:w-80 mb-2 mt-1",maxSelectedLabels:3},null,8,["onChange","modelValue","options"])):A("",!0),s("div",fs,[y(V,{type:"button",class:"w-9 h-9",severity:"success",rounded:"",onClick:se,disabled:e(i)||e(q)},{default:k(()=>[s("span",xs,l(e(i)?"hourglass_top":"play_arrow"),1)]),_:1},8,["disabled"]),y(V,{type:"button",class:"w-9 h-9",severity:"danger",rounded:"",onClick:ae,disabled:e(i)||!e(q)},{default:k(()=>[s("span",ys,l(e(i)?"hourglass_top":"stop"),1)]),_:1},8,["disabled"]),y(V,{type:"button",class:"w-9 h-9",severity:"info",rounded:"",onClick:h[1]||(h[1]=C=>Se()),disabled:u.value.length<=0||e(d)==null},{default:k(()=>[s("span",ps,l(e(i)?"hourglass_top":"save"),1)]),_:1},8,["disabled"]),y(V,{type:"button",class:"w-9 h-9",severity:"info",rounded:"",onClick:h[2]||(h[2]=C=>e(Ye)(e(n),e(U),e(v),e(g))),disabled:e(i)||e(N)},{default:k(()=>[s("span",gs,l(e(i)?"hourglass_top":"bug_report"),1)]),_:1},8,["disabled"]),y(V,{type:"button",class:"w-9 h-9",rounded:"",onClick:h[3]||(h[3]=C=>Fe()),disabled:e(i)||!e(v)||e(N)},{default:k(()=>[s("span",bs,l(e(i)?"hourglass_top":"restart_alt"),1)]),_:1},8,["disabled"])])]),u.value.length>0?(o(),L($e,{key:0,data:u.value,class:"mt-2"},null,8,["data"])):A("",!0),s("div",hs,[(o(!0),r(z,null,Z(e(v),(C,Q)=>{var me;return o(),L(De,{toggleable:"",key:C.test.url,class:Y(["border-4",e(et)((me=C.result)==null?void 0:me.success)])},{header:k(()=>[s("div",ks,[y(Re,{variant:"on",class:"w-full"},{default:k(()=>[s("label",{for:`name ${Q+1}`},"Test "+l(Q+1),9,ws),y(Ue,{id:`name ${Q+1}`,onInput:e(B),modelValue:C.test.name,"onUpdate:modelValue":X=>C.test.name=X,class:"w-full",size:"small"},null,8,["id","onInput","modelValue","onUpdate:modelValue"])]),_:2},1024),y(V,{type:"button",class:"w-9 h-9",severity:"info",rounded:"",onClick:X=>e(Ze)(e(n),e(U),C,e(g)),disabled:e(i)||e(N)},{default:k(()=>[s("span",_s,l(e(i)?"hourglass_top":"bug_report"),1)]),_:2},1032,["onClick","disabled"]),y(V,{type:"button",class:"w-9 h-9",severity:"danger",rounded:"",onClick:X=>O(Q)},{default:k(()=>h[5]||(h[5]=[s("span",{class:"material-icons"},l("delete_forever"),-1)])),_:2},1032,["onClick"]),y(V,{type:"button",class:"w-9 h-9",rounded:"",onClick:X=>Me(C,Q),disabled:e(i)||!e(v)||e(N)},{default:k(()=>[s("span",$s,l(e(i)?"hourglass_top":"restart_alt"),1)]),_:2},1032,["onClick","disabled"]),y(V,{type:"button",class:"w-9 h-9",severity:"warn",rounded:"",onClick:X=>C.result=void 0,disabled:!e(v)||e(N)},{default:k(()=>h[6]||(h[6]=[s("span",{class:"material-icons"}," cleaning_services ",-1)])),_:2},1032,["onClick","disabled"])])]),default:k(()=>[y($e,{data:C.data,class:"mt-2"},null,8,["data"]),C.result?(o(),L(e(rs),{key:0,result:C.result,id:a.id},null,8,["result","id"])):A("",!0)]),_:2},1032,["class"])}),128))])])}}}),Ps={class:"flex bg-surface-0",style:{height:"calc(100vh - 52px)"}},Ce="tester",ta=J({__name:"TesterView",setup(t){const a=ze(),c=Number(a.params.lesson_id),w=Number(a.params.unit_id),d=String(a.query.check_id);return(p,_)=>{const P=Ve,v=Ne;return o(),r(z,null,[y(e(Oe)),s("div",Ps,[y(v,{class:"w-full rounded-none"},{default:k(()=>[y(P,{size:33,minSize:10,class:"max-w-[767px] h-full"},{default:k(()=>[y(Cs,{id:Ce,lesson_id:e(c),unit_id:e(w),check_id:e(d)},null,8,["lesson_id","unit_id","check_id"])]),_:1}),y(P,{size:67,minSize:10,class:"w-full h-full"},{default:k(()=>[y(e(Ge),{id:Ce,class:"w-full h-full",horizontal:!1})]),_:1})]),_:1})])],64)}}});export{ta as default};
