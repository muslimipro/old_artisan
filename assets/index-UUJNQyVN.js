import{s as B}from"./index-D0oCXJTQ.js";import{d as T,u as L,r as k,b as R,o as s,c as t,j as o,t as a,q as h,p as j,n as $,h as v,v as C,e as I,g as P,x as S,i,F as y,l as b,C as N}from"./index-CnKe9SRm.js";import{_ as A}from"./MainHeader.vue_vue_type_script_setup_true_lang-DibA2tTq.js";import{R as D,m as F}from"./mapRouteFromDto-PSN50FDR.js";import{g as E}from"./groupLessonsByLevelAndType-B0Iu0b2E.js";import{s as V}from"./index-DSynu2Or.js";import{s as q}from"./index-CQkEe7f2.js";import"./index-BZd1lmey.js";import"./index-D6P5SBNN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-D1-3uCnC.js";import"./mapLessonFromDto-De7FAIVI.js";import"./mapUnitFromDto-DVWJHO4f.js";import"./transformUnitDtosToPages-hsgZNhAG.js";const U=T("route-store",()=>{const x=L(),l=k(null),p=k({}),m=k(!1);async function e(d){var _,r;try{m.value=!0;const{data:n}=await D.getRouteById(d);l.value=F(n),p.value=E(((_=l.value)==null?void 0:_.lessons)??[],((r=l.value)==null?void 0:r.levels)??[])}catch(n){x.add({severity:"error",summary:n.response.data.error,life:2e3})}finally{m.value=!1}}return{selectedRoute:l,isRouteLoading:m,groupedLessons:p,loadRouteById:e}}),z={class:"flex gap-2 w-full h-full items-end"},M={class:"flex-grow flex flex-col gap-[2px]"},G={class:"text-overline-small"},H={class:"flex items-center gap-2"},J={key:0,class:"text-purple-500 h-[22px] w-4"},K={class:"text-body-large-semibold"},O={class:"pt-[10px] flex flex-col gap-1"},Q={key:0},W={key:1},X={key:2},w=R({__name:"LessonCard",props:{lesson:{},route_id:{}},setup(x){const l=x,p=C(),m=()=>{l.lesson.accessStatus==="available"&&p.push({name:l.lesson.lessonType=="project"?"project":l.lesson.studentProgress==100?"lesson-revise":"lesson",params:{id:l.lesson.id},query:{route_id:l.route_id}})};return(e,d)=>{const _=q,r=V;return s(),t("div",{class:$(["flex flex-col rounded-lg h-[160px] w-[348px] pt-2 px-3 cursor-pointer",e.lesson.accessStatus=="available"?e.lesson.lessonType=="learn"?"bg-[var(--color-purple50)]":e.lesson.lessonType=="practice"?"bg-[var(--color-primary50)]":"bg-slate-50":e.lesson.lessonType=="learn"?"bg-[var(--color-purple50)] bg-opacity-50":"bg-[var(--color-primary50)] bg-opacity-50"]),onClick:m},[o("div",z,[o("div",M,[o("div",G,a(e.lesson.description),1),o("div",H,[e.lesson.accessStatus==="premium_restriction"?(s(),t("div",J,d[0]||(d[0]=[o("i",{class:"pi pi-crown","aria-hidden":"true"},null,-1)]))):h("",!0),o("div",K,a(e.lesson.name),1)])]),l.lesson.sourceImageUrl?(s(),j(_,{key:0,src:l.lesson.sourceImageUrl,alt:"Image",class:"min-w-[120px] min-h-[120px] w-[120px] h-[120px]"},null,8,["src"])):h("",!0)]),o("div",O,[o("div",{class:$(["action-small-bold",e.lesson.lessonType=="learn"?"text-purple400":"text-primary400"])},[e.lesson.studentProgress==0?(s(),t("span",Q,a(e.$t("start")),1)):e.lesson.studentProgress==100?(s(),t("span",W,a(e.$t("done")),1)):(s(),t("span",X,a(e.$t("inProgress")),1))],2),v(r,{value:e.lesson.studentProgress,"show-value":!1,class:"w-full rounded-full h-[2px]",dt:{value:{background:e.lesson.lessonType=="learn"?"var(--color-purple400)":"var(--color-primary400)"},background:e.lesson.lessonType=="learn"?"#CBBEFD":"#A9EAD8"}},null,8,["value","dt"])])],2)}}}),Y={class:"flex flex-col items-center"},Z={class:"w-full max-w-[1280px] px-8 py-10"},ee={key:1,class:"flex justify-center"},se={key:2,class:"flex flex-col gap-8"},oe={class:"flex gap-[52px] p-6 bg-white rounded-2xl"},te={class:"flex flex-col"},le={class:"text-heading-3-semibold"},re={class:"text-lg text-gray-500"},ae={class:"text-heading-3-semibold text-neutral500 px-6"},ne={key:0,class:"flex flex-col w-full bg-white p-6 rounded-2xl gap-4"},ie={class:"text-heading-4-semibold text-neutral600"},de={class:"flex overflow-x-scroll gap-4"},ce={key:1,class:"flex flex-col w-full bg-white p-6 rounded-2xl gap-4"},ue={class:"text-heading-4-semibold text-neutral600"},pe={class:"flex overflow-x-scroll gap-4"},me={key:2,class:"flex flex-col w-full bg-white p-6 rounded-2xl gap-4"},fe={class:"text-heading-4-semibold text-neutral600"},_e={class:"flex flex-wrap gap-4"},Ce=R({__name:"RoutePage",setup(x){const l=N(),p=U(),{isRouteLoading:m,selectedRoute:e,groupedLessons:d}=I(p),{loadRouteById:_}=p;P(()=>_(Number(l.params.id)));const r=S(()=>{const n={};for(const g in d.value)n[g]={learn:d.value[g].learn.filter(f=>f.stage==="published"),practice:d.value[g].practice.filter(f=>f.stage==="published"),project:d.value[g].project.filter(f=>f.stage==="published")};return n});return(n,g)=>{const f=B;return s(),t("div",Y,[v(i(A)),o("div",Z,[i(m)?(s(),j(f,{key:0,class:"flex justify-center"})):i(e)?(s(),t("div",se,[o("div",oe,[o("div",te,[o("div",le,a(i(e).name),1),o("div",re,a(i(e).description),1)])]),(s(!0),t(y,null,b(i(e).levels,c=>(s(),t("div",{key:c.id,class:"flex flex-col gap-4"},[o("div",ae,a(c.name),1),r.value[c.id].learn.length>0?(s(),t("div",ne,[o("div",ie,a(n.$t("pages.projects.learn")),1),o("div",de,[(s(!0),t(y,null,b(r.value[c.id].learn,u=>(s(),t("div",{key:u.id},[v(w,{lesson:u,route_id:i(e).id},null,8,["lesson","route_id"])]))),128))])])):h("",!0),r.value[c.id].practice.length>0?(s(),t("div",ce,[o("div",ue,a(n.$t("pages.projects.practice")),1),o("div",pe,[(s(!0),t(y,null,b(r.value[c.id].practice,u=>(s(),t("div",{key:u.id},[v(w,{lesson:u,route_id:i(e).id},null,8,["lesson","route_id"])]))),128))])])):h("",!0),i(e).routeType=="hackathon"&&r.value[c.id].project.length>0?(s(),t("div",me,[o("div",fe,a(n.$t("project")),1),o("div",_e,[(s(!0),t(y,null,b(r.value[c.id].project,u=>(s(),t("div",{key:u.id},[v(w,{lesson:u,route_id:i(e).id},null,8,["lesson","route_id"])]))),128))])])):h("",!0)]))),128))])):(s(),t("div",ee,"No route found"))])])}}});export{Ce as default};
