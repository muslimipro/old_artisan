import{s as w,a as S}from"./index-D3-Aahhv.js";import{s as F}from"./index-DsqcwBRR.js";import{a as N,b as V}from"./index-DNFUUiYx.js";import{s as I}from"./index-ClLqLFXa.js";import{b as k,r as m,g as x,o as u,c,h as t,y as a,j as s,t as l,q as C,k as f,aH as A}from"./index-B13zA5hA.js";import{S as M}from"./schoolApi-DnAsNVP5.js";import{m as T}from"./mapStudentFromDto-D4MSietx.js";import"./index-Dnjq2QHo.js";import"./index-DlvIKnHl.js";import"./index-CCY17VSZ.js";import"./index-D42dtyNF.js";import"./index-BcEWowBB.js";import"./index-DglSVEhR.js";import"./index-BAuR1ElB.js";import"./index-BsBj4sJw.js";import"./index-B3vcjevN.js";const B={class:"flex-grow min-w-0 pb-4 mb-4 bg-white rounded-md border"},D={class:"flex items-center"},P={class:"flex-grow flex gap-2 items-center"},U={key:0,class:"text-2xl"},ae=k({__name:"StudentsPage",setup(O){const p=m(!1),d=m([]),g=m(),n=m();(()=>{n.value={global:{value:null,matchMode:A.CONTAINS}}})();async function h(){try{p.value=!0;const{data:e}=await M.getStudents();d.value=(e==null?void 0:e.map(T))??[]}catch(e){console.log(e)}finally{p.value=!1}}return x(h),(e,r)=>{const v=N,b=I,_=V,$=F,i=w,y=S;return u(),c("div",B,[t(y,{ref_key:"dt",ref:g,filters:n.value,"onUpdate:filters":r[1]||(r[1]=o=>n.value=o),value:d.value,dataKey:"id",loading:p.value,scrollable:"",globalFilterFields:["name","email"],class:"rounded-md overflow-hidden w-full",paginator:"",rows:10,rowsPerPageOptions:[5,10,25]},{header:a(()=>[s("div",D,[s("div",P,[d.value?(u(),c("div",U,l(e.$t("pages.school.students"))+" - "+l(d.value.length),1)):C("",!0)]),t(_,null,{default:a(()=>[t(v,null,{default:a(()=>r[2]||(r[2]=[s("i",{class:"pi pi-search"},null,-1)])),_:1}),t(b,{modelValue:n.value.global.value,"onUpdate:modelValue":r[0]||(r[0]=o=>n.value.global.value=o),placeholder:e.$t("pages.school.search")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:a(()=>[f(l(e.$t("pages.school.noStudentsFound")),1)]),loading:a(()=>[f(l(e.$t("pages.school.loadingStudents")),1)]),default:a(()=>[t(i,{field:"avatar",header:e.$t("pages.school.avatar"),sortable:""},{body:a(({data:o})=>[t($,{image:o.smallAvatarUrl},null,8,["image"])]),_:1},8,["header"]),t(i,{field:"name",header:e.$t("pages.school.name"),sortable:""},{body:a(({data:o})=>[s("div",null,l(`${o.name}`),1)]),_:1},8,["header"]),t(i,{field:"email",header:e.$t("pages.school.email"),sortable:""},{body:a(({data:o})=>[s("div",null,l(`${o.email}`),1)]),_:1},8,["header"]),t(i,{field:"class",header:e.$t("pages.school.class"),sortable:""},{body:a(({data:o})=>[s("div",null,l(`${o.className}`),1)]),_:1},8,["header"]),t(i,{field:"xp",header:e.$t("pages.school.xp"),sortable:""},{body:a(({data:o})=>[s("div",null,l(`${o.xp}`),1)]),_:1},8,["header"])]),_:1},8,["filters","value","loading"])])}}});export{ae as default};
