import"./store-81l0maM1.js";import{S as x}from"./SimulationView-6MlEiyfL.js";import{_ as M,T as b}from"./CodeEditorView.vue_vue_type_script_setup_true_lang-Dr8jy2bU.js";import{b as k,r as U,ac as z,D as R,o as h,c as B,h as d,i as a,H as _,j as u}from"./index-CnKe9SRm.js";const V={key:0,class:"flex flex-col w-full"},P={class:"h-full flex flex-col w-full overflow-hidden"},N={class:"flex-grow overflow-auto"},S={key:1,class:"flex flex-row w-full"},T={class:"flex flex-col w-full overflow-hidden"},j={class:"h-full flex-grow overflow-auto"},i=!0,I=k({__name:"PibodyViewer",props:{id:{},content:{},data:{},state:{},starting:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!0}},emits:["run","save-answer"],setup(g,{emit:y}){var v;const l=g,f=y,t=U(""),s=U([]),n=((v=l.data)==null?void 0:v.neededModules)??[];z(()=>{var e,o,w,p,m;const r=((o=(e=l.state)==null?void 0:e.answer)==null?void 0:o.code)??"";t.value=l.starting||r==""?(w=l.content)==null?void 0:w.starting:r,s.value=((m=(p=l.state)==null?void 0:p.answer)==null?void 0:m.slots)??[]}),R([t,s],()=>{f("save-answer",{code:t.value,slots:s.value})});function c(){f("run")}return(r,e)=>l.horizontal?(h(),B("div",V,[d(a(x),{class:"w-full",slots:s.value,"onUpdate:slots":e[0]||(e[0]=o=>s.value=o),autoPut:!0,neededModules:a(n),"onUpdate:neededModules":e[1]||(e[1]=o=>_(n)?n.value=o:null),id:l.id,horizontal:!0},null,8,["slots","neededModules","id"]),u("div",P,[u("div",N,[d(M,{code:t.value,"onUpdate:code":e[2]||(e[2]=o=>t.value=o),connectbuttons:i,"onUpdate:connectbuttons":e[3]||(e[3]=o=>i=o),id:l.id,onRun:c,class:"w-full h-full"},null,8,["code","id"])]),d(a(b),{id:l.id,class:"max-h-40 border-t"},null,8,["id"])])])):(h(),B("div",S,[u("div",T,[u("div",j,[d(M,{code:t.value,"onUpdate:code":e[4]||(e[4]=o=>t.value=o),connectbuttons:i,"onUpdate:connectbuttons":e[5]||(e[5]=o=>i=o),id:l.id,onRun:c,class:"w-full h-full"},null,8,["code","id"])]),d(a(b),{id:l.id,class:"max-h-40 border-t"},null,8,["id"])]),d(a(x),{class:"max-w-[467px] w-full",slots:s.value,"onUpdate:slots":e[6]||(e[6]=o=>s.value=o),autoPut:!0,neededModules:a(n),"onUpdate:neededModules":e[7]||(e[7]=o=>_(n)?n.value=o:null),id:l.id,horizontal:!1},null,8,["slots","neededModules","id"])]))}});export{I as _};
