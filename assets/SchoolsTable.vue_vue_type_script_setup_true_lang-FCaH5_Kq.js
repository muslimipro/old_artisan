import{s as w,a as T}from"./index-P7_tGZCZ.js";import{a as V,b as C}from"./index-Bht399_o.js";import{s as F}from"./index-X0HA0JnL.js";import{b as I,a as N,r as h,o as n,p as S,D as o,j as u,c as i,t as a,q as B,W as m,h as t,k as c,i as b,aH as D,w as z}from"./index-BwcPjnJP.js";const E={class:"flex items-center"},M={class:"flex-grow flex gap-2 items-center"},P={key:0,class:"text-2xl"},O={key:0},U={key:1},j={key:2},q={class:"w-44"},A={key:0,class:"w-40"},H={key:1,class:"w-40"},K={key:0,class:"w-40"},L={key:1,class:"w-40"},Y=I({__name:"SchoolsTable",props:{schools:{},loading:{type:Boolean}},setup(W){const{locale:p}=N(),_=h(),d=h();(()=>{d.value={global:{value:null,matchMode:D.CONTAINS}}})();const f=()=>{_.value.exportCSV()};return(s,r)=>{const g=z,y=V,v=F,$=C,l=w,k=T;return n(),S(k,{ref_key:"dt",ref:_,filters:d.value,"onUpdate:filters":r[1]||(r[1]=e=>d.value=e),value:s.schools,dataKey:"id",loading:s.loading,scrollable:"",globalFilterFields:["id","title_en","country","address","manager_email"],paginator:"",rows:10,rowsPerPageOptions:[5,10,25],class:"rounded-md overflow-hidden w-full"},{header:o(()=>[u("div",E,[u("div",M,[s.schools?(n(),i("div",P,a(s.$t("schools"))+" - "+a(s.schools.length),1)):B("",!0)]),m(s.$slots,"header-extra"),t(g,{label:s.$t("export"),icon:"pi pi-upload",severity:"info",variant:"outlined",class:"mr-2",onClick:f},null,8,["label"]),t($,null,{default:o(()=>[t(y,null,{default:o(()=>r[2]||(r[2]=[u("i",{class:"pi pi-search"},null,-1)])),_:1}),t(v,{modelValue:d.value.global.value,"onUpdate:modelValue":r[0]||(r[0]=e=>d.value.global.value=e),placeholder:s.$t("pages.teacher.search")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:o(()=>r[3]||(r[3]=[c(" No schools found. ")])),loading:o(()=>r[4]||(r[4]=[c(" Loading schools data. Please wait. ")])),default:o(()=>[t(l,{field:"id",header:"ID",sortable:""}),t(l,{field:"title_en",header:s.$t("name"),sortable:""},{body:o(({data:e})=>[b(p)==="en"?(n(),i("span",O,a(e.title_en),1)):b(p)==="kk"?(n(),i("span",U,a(e.title_kz),1)):(n(),i("span",j,a(e.title_ru),1))]),_:1},8,["header"]),t(l,{field:"country",header:s.$t("pages.settings.country"),sortable:""},null,8,["header"]),t(l,{field:"address",header:s.$t("pages.school.address"),sortable:""},null,8,["header"]),t(l,{field:"manager_email",header:s.$t("managerEmail"),sortable:""},null,8,["header"]),t(l,{field:"num_current_classes",header:s.$t("pages.teacher.classes"),sortable:""},{body:o(({data:e})=>[c(a(e.num_current_classes)+" / "+a(e.num_max_classes),1)]),_:1},8,["header"]),t(l,{field:"num_current_teachers",header:s.$t("pages.school.teachers"),sortable:""},{body:o(({data:e})=>[c(a(e.num_current_teachers)+" / "+a(e.num_max_teachers),1)]),_:1},8,["header"]),t(l,{field:"num_current_students",header:s.$t("pages.teacher.students"),sortable:""},{body:o(({data:e})=>[c(a(e.num_current_students)+" / "+a(e.num_max_students),1)]),_:1},8,["header"]),t(l,{field:"created_time",header:s.$t("createdTime"),sortable:""},{body:o(({data:e})=>[u("div",q,a(e.created_time.split("T")[0]+" "+e.created_time.split(".")[0].split("T")[1]),1)]),_:1},8,["header"]),t(l,{field:"subscription_start",header:s.$t("subscriptionStart"),sortable:""},{body:o(({data:e})=>[e.subscription_start?(n(),i("div",A,a(e.subscription_start.split("T")[0]),1)):(n(),i("div",H,"-"))]),_:1},8,["header"]),t(l,{field:"subscription_end",header:s.$t("subscriptionEnd"),sortable:""},{body:o(({data:e})=>[e.subscription_end?(n(),i("div",K,a(e.subscription_end.split("T")[0]),1)):(n(),i("div",L,"-"))]),_:1},8,["header"]),t(l,{frozen:!0,alignFrozen:"right",exportable:!1},{body:o(({data:e})=>[m(s.$slots,"actions",{row:e})]),_:3})]),_:3},8,["filters","value","loading"])}}});export{Y as _};
